@page "/activity"
@using System.Net.Http.Json
@using SariRasaWeb.Models
@inject HttpClient httpClient
@using SariRasaWeb.Utils

@using PatientModel = SariRasaWeb.Models.Patient
@using Table = SariRasaWeb.Components.Table.Table

<SariRasaWeb.Components.Table.Table Config="Config" />

@code {
    private bool _hidePosition;
    private bool _loading;
    private IEnumerable<Element> Elements = new List<Element>();
    private string infoFormat = "Showing {first_item} to {last_item} of {all_items}";

    public TableConfig Config { get; set; } = new TableConfig(new List<TableColumn>(), new List<object>());

    private IEnumerable<PatientModel> Patients = new List<PatientModel>();

    protected override async Task OnInitializedAsync()
    {
        Elements = new List<Element>()
        {
            new Element("Tess", 69, "waduh", 102),
            new Element("Tesss", 691, "waduhos", 101),
            new Element("Tessss", 694, "waduh", 103),
        };

        Patients = new List<PatientModel>()
        {
            new PatientModel("Profira Manyar", new DateTime(), "TR01", "White Glow Facial", 1, "dr novita"),
            new PatientModel("Profira Central", new DateTime(), "TR02", "White Glow Facial", 1, "dr aleg")
        };

        Config = new TableConfig(new List<TableColumn> { 
            new TableColumn { Caption="Tgl", DataField="tanggal" },
            new TableColumn { Caption="Keterangan", DataField="keterangan" },
            new TableColumn { Caption="Point", DataField="point" },
        }, new List<object>{ 
            new { tanggal = "10 Jan 2024", keterangan = "Penambahan Poin", point = 10 },
            new { tanggal = "12 Jan 2024", keterangan = "Pengurangan Poin", point = 5 },
        });
    }

}
